(function(n){function i(t,i,r){var u=i.defer(),f=u.promise;return t.get(r+"/api").then(function(t){n.extend(f,t.data);u.resolve()},function(){u.reject("Error loading API")}),f}function r(n,t,i){function f(){}function e(n){return n.data}function u(n){return n=n||"Unexpected Error",function(t){t.data.exceptionMessage&&i.error(t.data.exceptionMessage);throw t.data.errors||t.data.message||n;}}var r=t.then(function(){r.getUsers=function(i,r,f){return n.get(t.links.users,{params:{filter:i,start:r,count:f}}).then(e,u("Error Getting Users"))};r.getUser=function(i){return n.get(t.links.users+"/"+encodeURIComponent(i)).then(e,u("Error Getting User"))};t.links.createUser&&(r.createUser=function(i,r){return n.post(t.links.createUser,{username:i,password:r}).then(e,u("Error Creating User"))});t.data.metadata.userMetadata.supportsDelete&&(r.deleteUser=function(t){return n.delete(t.links.delete).then(f,u("Error Deleting User"))});t.data.metadata.userMetadata.supportsPassword&&(r.setPassword=function(t){return n.put(t.links.update,t.data).then(f,u("Error Setting Password"))});t.data.metadata.userMetadata.supportsEmail&&(r.setEmail=function(t){return n.put(t.links.update,t.data).then(f,u("Error Setting Email"))});t.data.metadata.userMetadata.supportsPhone&&(r.setPhone=function(t){return n.put(t.links.update,t.data).then(f,u("Error Setting Phone"))});t.data.metadata.userMetadata.supportsClaims&&(r.addClaim=function(t,i){return n.post(t.links.create,i).then(f,u("Error Adding Claim"))},r.removeClaim=function(t){return n.delete(t.links.delete).then(f,u("Error Removing Claim"))})});return r}function u(n){return{restrict:"E",templateUrl:n+"/assets/Templates.pager.buttons.html",scope:{pager:"="}}}function f(n){return{restrict:"E",templateUrl:n+"/assets/Templates.pager.summary.html",scope:{pager:"="}}}function e(n){function t(t,i){function e(t,i,r,u){this.text=n.trustAsHtml(t+"");this.page=i;this.enabled=r;this.current=u}var r,s,h,f;this.start=t.start;this.count=t.count;this.total=t.total;this.pageSize=i;this.filter=t.filter;this.totalPages=Math.ceil(this.total/i);this.currentPage=this.start/i+1;this.canPrev=this.currentPage>1;this.canNext=this.currentPage<this.totalPages;this.buttons=[];var u=7,c=10,o=1;for(this.currentPage>Math.floor(u/2)&&(o=this.currentPage-Math.floor(u/2)),r=o+u-1,r>=this.totalPages&&(r=this.totalPages),this.totalPages>u&&r-o+1<u&&(o=r-u+1),s=this.currentPage-c,s<1&&(s=1),h=this.currentPage+c,h>this.totalPages&&(h=this.totalPages),this.buttons.push(new e("<strong>&lt;&lt;<\/strong>",1,r>u)),this.buttons.push(new e("<strong>&lt;<\/strong>",s,r>u)),f=o;f<=r;f++)this.buttons.push(new e(f,f,!0,f===this.currentPage));this.buttons.push(new e("<strong>&gt;<\/strong>",h,r<this.totalPages));this.buttons.push(new e("<strong>&gt;&gt;<\/strong>",this.totalPages,r<this.totalPages))}return t}var t=n.module("ttIdm",[]);i.$inject=["$http","$q","PathBase"];t.factory("idmApi",i);r.$inject=["$http","idmApi","$log"];t.factory("idmUsers",r);u.$inject=["PathBase"];t.directive("ttPagerButtons",u);f.$inject=["PathBase"];t.directive("ttPagerSummary",f);e.$inject=["$sce"];t.service("idmPager",e)})(angular),function(n){var t=document.getElementById("pathBase").textContent;n.module("ttIdm").constant("PathBase",t)}(angular);
/*
//# sourceMappingURL=ttIdm.min.js.map
*/