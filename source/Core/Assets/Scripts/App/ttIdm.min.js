(function(n){function i(n,t,i){var r;this.start=function(){var u=t.defer();return r?u.resolve(r):n.get(i+"/api").then(function(n){r=n.data;u.resolve(r)},function(){u.reject("Error loading API")}),u.promise}}function r(n,t){var i={username:"Admin"};this.user=i;t.start().then(function(t){n.get(t.currentUser).then(function(n){n.data.username&&(i.username=n.data.username)})})}function u(n,t,i){function u(){}function f(n){return n.data}function r(n){return n=n||"Unexpected Error",function(t){t.data.exceptionMessage&&i.error(t.data.exceptionMessage);throw t.data.errors||t.data.message||n;}}this.getUsers=function(i,u,e){return n.get(t+"/api/users",{params:{filter:i,start:u,count:e}}).then(f,r("Error Getting Users"))};this.getUser=function(i){return n.get(t+"/api/users/"+encodeURIComponent(i)).then(f,r("Error Getting User"))};this.createUser=function(i,u){return n.post(t+"/api/users",{username:i,password:u}).then(f,r("Error Creating User"))};this.deleteUser=function(i){return n.delete(t+"/api/users/"+encodeURIComponent(i)).then(u,r("Error Deleting User"))};this.setPassword=function(i,f){return n.put(t+"/api/users/"+encodeURIComponent(i)+"/password",{password:f}).then(u,r("Error Setting Password"))};this.setEmail=function(i,f){return n.put(t+"/api/users/"+encodeURIComponent(i)+"/email",{email:f}).then(u,r("Error Setting Email"))};this.setPhone=function(i,f){return n.put(t+"/api/users/"+encodeURIComponent(i)+"/phone",{phone:f}).then(u,r("Error Setting Phone"))};this.addClaim=function(i,f,e){return n.post(t+"/api/users/"+encodeURIComponent(i)+"/claims",{type:f,value:e}).then(u,r("Error Adding Claim"))};this.removeClaim=function(i,f,e){return n.delete(t+"/api/users/"+encodeURIComponent(i)+"/claims/"+encodeURIComponent(f)+"/"+encodeURIComponent(e)).then(u,r("Error Removing Claim"))}}function f(n){return{restrict:"E",templateUrl:n+"/assets/Templates.pager.buttons.html",scope:{pager:"="}}}function e(n){return{restrict:"E",templateUrl:n+"/assets/Templates.pager.summary.html",scope:{pager:"="}}}function o(n){function t(t,i,r){function o(t,i,r,u){this.text=n.trustAsHtml(t+"");this.page=i;this.enabled=r;this.current=u}var u,h,c,e;this.start=t.start;this.count=t.count;this.total=t.total;this.pageSize=i;this.filter=r;this.totalPages=Math.ceil(this.total/i);this.currentPage=this.start/i+1;this.canPrev=this.currentPage>1;this.canNext=this.currentPage<this.totalPages;this.buttons=[];var f=7,l=10,s=1;for(this.currentPage>Math.floor(f/2)&&(s=this.currentPage-Math.floor(f/2)),u=s+f-1,u>=this.totalPages&&(u=this.totalPages),this.totalPages>f&&u-s+1<f&&(s=u-f+1),h=this.currentPage-l,h<1&&(h=1),c=this.currentPage+l,c>this.totalPages&&(c=this.totalPages),this.buttons.push(new o("<strong>&lt;&lt;<\/strong>",1,u>f)),this.buttons.push(new o("<strong>&lt;<\/strong>",h,u>f)),e=s;e<=u;e++)this.buttons.push(new o(e,e,!0,e===this.currentPage));this.buttons.push(new o("<strong>&gt;<\/strong>",c,u<this.totalPages));this.buttons.push(new o("<strong>&gt;&gt;<\/strong>",this.totalPages,u<this.totalPages))}return t}var t=n.module("ttIdm",[]);i.$inject=["$http","$q","PathBase"];t.service("idmApi",i);r.$inject=["$http","idmApi"];t.service("idmCurrentUser",r);u.$inject=["$http","PathBase","$log"];t.service("idmUsers",u);f.$inject=["PathBase"];t.directive("ttPagerButtons",f);e.$inject=["PathBase"];t.directive("ttPagerSummary",e);o.$inject=["$sce"];t.service("idmPager",o)})(angular),function(n){var t=document.getElementById("pathBase").textContent;n.module("ttIdm").constant("PathBase",t)}(angular);
/*
//# sourceMappingURL=ttIdm.min.js.map
*/