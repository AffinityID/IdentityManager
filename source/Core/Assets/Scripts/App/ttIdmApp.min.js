(function(n){function i(n,t){t.when("/",{controller:"HomeCtrl",templateUrl:n+"/assets/Templates.home.html"}).when("/callback",{templateUrl:n+"/assets/Templates.message.html",controller:"CallbackCtrl"}).when("/logout",{template:"<h2>Logging out...<\/h2>",controller:"LogoutCtrl"}).when("/error",{templateUrl:n+"/assets/Templates.message.html"}).otherwise({redirectTo:"/"})}function r(n,t,i,r,u){function f(){t.layout.showLogout=u.hasToken();i.get().then(function(n){t.layout.username=n.data.currentUser.username;t.layout.links=n.links})}t.layout={};u.addOnTokenObtained(f);f();u.addOnTokenExpired(function(){t.layout.links=null;t.layout.showLogout=!1})}function u(n,t){t.isTokenNeeded()&&(n.showLogin=!0);t.addOnTokenExpired(function(){n.showLogin=!0});t.addOnTokenObtained(function(){n.showLogin=!1});n.login=function(){t.redirectForToken("callback")}}function f(n,t,i){n.processTokenCallback(function(){t.url("/")},function(n){i.errors=[n]})}function e(n,t){n.removeToken();t.url("/")}var t=n.module("ttIdmApp",["ngRoute","ttIdm","ttIdmUI","ttIdmUsers","ttIdmRoles"]);i.$inject=["PathBase","$routeProvider"];t.config(i);r.$inject=["$rootScope","$scope","idmApi","$location","idmToken"];t.controller("LayoutCtrl",r);u.$inject=["$scope","idmToken"];t.controller("HomeCtrl",u);f.$inject=["idmToken","$location","$rootScope"];t.controller("CallbackCtrl",f);e.$inject=["idmToken","$location"];t.controller("LogoutCtrl",e)})(angular);
/*
//# sourceMappingURL=ttIdmApp.min.js.map
*/